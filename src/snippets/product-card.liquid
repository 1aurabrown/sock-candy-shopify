{%- assign product = all_products[card_product] -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}
{%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

{% assign index = forloop.index | modulo:5 %}
{% assign placeholder_key = 'product-' | append: forloop.index %}

{% if product == empty %}
  {%- assign section_onboarding = true -%}
  {%- assign onboarding_title = 'homepage.onboarding.product_title' | t -%}
{% endif %}

<a data-animate="fade-in" class="product-card" href="{{ product.url }}" title="{{ product.title }}" class="md-py-1">
  <div class="product-card__image relative">
    {% include 'responsive-image' with
    image: product.featured_image,
    inline_aspect_ratio: true,
    crop_aspect_ratio: 0.8,
    placeholder_key: placeholder_key
     %}
     <div class="absolute inset-0 opacity-0 transition-opacity duration-200 focus:opacity-100 hover:opacity-100 flex items-center justify-center bg-off-white bg-opacity-60">
      <div class="w-1/4">{% include 'logomark.svg' %}</div>
     </div>
  </div>
  <div class="flex flex-row justify-between mt-3 md:mt-6">
    <div class="product-card__title mr-6">{{ product.title | default: onboarding_title }}</div>
    <div class="product-card__price">{{ product.price | default: 100 | money_without_trailing_zeros }}</div>
  </div>
</a>

{% assign card_product = blank %}