{%- assign product = all_products[section.settings.product] -%}
{%- assign current_variant = product.selected_or_first_available_variant -%}
{%- assign featured_image = current_variant.featured_image | default: product.featured_image -%}

{% assign index = forloop.index | modulo:5 %}
{% assign placeholder_key = 'product-' | append: forloop.index %}

{% if product == empty %}
  {%- assign section_onboarding = true -%}
  {%- assign onboarding_title = 'homepage.onboarding.product_title' | t -%}
{% endif %}

<a class="product-card" href="{{ product.url }}" title="{{ product.title }}" class="md-py-1">
  <div class="product-card__image">
    {% include 'responsive-image' with
    image: product.featured_image,
    inline_aspect_ratio: true,
    placeholder_key: placeholder_key
     %}
  </div>
  <div class="flex flex-row justify-between mt-3 md:mt-6">
    <div class="product-card__title">{{ product.title | default: onboarding_title }}</div>
    <div class="product-card__price">{{ product.price | default: 100 }}</div>
  </div>
</a>

{% assign card_product = blank %}